# Implementation Log: Task 8

**Summary:** Updated rtx_access_list_extended resource with apply block support, sequence_start/sequence_step attributes, and CustomizeDiff validation using ValidateACLSchema. Added ExtendedApply struct to client interfaces for interface bindings.

**Timestamp:** 2026-01-26T21:40:34.048Z
**Log ID:** 71b71c3a-bf3c-482e-9c57-be825e964acf

---

## Statistics

- **Lines Added:** +320
- **Lines Removed:** -65
- **Files Changed:** 3
- **Net Change:** 255

## Files Modified
- internal/provider/resource_rtx_access_list_extended.go
- internal/client/interfaces.go
- internal/provider/resource_rtx_access_list_ip_apply.go

## Files Created
_No files created_

---

## Artifacts

### Functions

#### applyExtendedFiltersToInterfaces
- **Purpose:** Applies extended ACL filters to interfaces using Client.ApplyIPFiltersToInterface
- **Location:** internal/provider/resource_rtx_access_list_extended.go:487
- **Signature:** func applyExtendedFiltersToInterfaces(ctx context.Context, apiClient *apiClient, acl client.AccessListExtended) error
- **Exported:** No

#### removeExtendedFiltersFromInterfaces
- **Purpose:** Removes extended ACL filters from interfaces using Client.RemoveIPFiltersFromInterface
- **Location:** internal/provider/resource_rtx_access_list_extended.go:506
- **Signature:** func removeExtendedFiltersFromInterfaces(ctx context.Context, apiClient *apiClient, acl client.AccessListExtended) error
- **Exported:** No

#### updateExtendedApplies
- **Purpose:** Handles changes to apply blocks by comparing old and new applies and updating router accordingly
- **Location:** internal/provider/resource_rtx_access_list_extended.go:520
- **Signature:** func updateExtendedApplies(ctx context.Context, apiClient *apiClient, acl client.AccessListExtended, oldApplies, newApplies []interface{}) error
- **Exported:** No

#### readExtendedApplies
- **Purpose:** Reads current apply state from router by querying interface filters and matching with ACL sequences
- **Location:** internal/provider/resource_rtx_access_list_extended.go:570
- **Signature:** func readExtendedApplies(ctx context.Context, apiClient *apiClient, acl *client.AccessListExtended) ([]interface{}, error)
- **Exported:** No

#### expandExtendedApplies
- **Purpose:** Converts Terraform schema apply blocks to client.ExtendedApply structs
- **Location:** internal/provider/resource_rtx_access_list_extended.go:448
- **Signature:** func expandExtendedApplies(applies []interface{}) []client.ExtendedApply
- **Exported:** No

#### flattenExtendedApplies
- **Purpose:** Converts client.ExtendedApply structs to Terraform schema format
- **Location:** internal/provider/resource_rtx_access_list_extended.go:471
- **Signature:** func flattenExtendedApplies(applies []client.ExtendedApply) []interface{}
- **Exported:** No

#### expandAccessListExtendedEntriesWithSequence
- **Purpose:** Expands entry blocks with auto or manual sequence calculation based on sequence_start
- **Location:** internal/provider/resource_rtx_access_list_extended.go:359
- **Signature:** func expandAccessListExtendedEntriesWithSequence(entries []interface{}, sequenceStart, sequenceStep int) []client.AccessListExtendedEntry
- **Exported:** No

#### equalIntSlices
- **Purpose:** Compares two int slices for equality
- **Location:** internal/provider/resource_rtx_access_list_extended.go:612
- **Signature:** func equalIntSlices(a, b []int) bool
- **Exported:** No

### Classes

#### ExtendedApply
- **Purpose:** Represents an interface binding for extended ACLs with Interface, Direction, and FilterIDs fields
- **Location:** internal/client/interfaces.go:1514
- **Exported:** Yes

### Integrations

#### Integration
- **Description:** Extended ACL resource integrates with Client interface for filter application/removal
- **Frontend Component:** resource_rtx_access_list_extended.go
- **Backend Endpoint:** Client.ApplyIPFiltersToInterface, Client.RemoveIPFiltersFromInterface, Client.GetIPInterfaceFilters
- **Data Flow:** Terraform plan -> CustomizeDiff validation -> Create/Update ACL entries -> Apply filters to interfaces -> Save config

