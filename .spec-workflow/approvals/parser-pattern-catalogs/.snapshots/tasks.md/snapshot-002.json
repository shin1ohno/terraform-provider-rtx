{
  "id": "snapshot_1768916737458_jf951klx2",
  "approvalId": "approval_1768916021072_oxpwd8h9y",
  "approvalTitle": "Tasks: Parser Pattern Catalogs (12 tasks)",
  "version": 2,
  "timestamp": "2026-01-20T13:45:37.458Z",
  "trigger": "approved",
  "status": "pending",
  "content": "# Tasks Document: Parser Pattern Catalogs\n\n## Phase 1: Core Pattern Catalogs\n\n- [ ] 1. Create ip_filter.yaml pattern catalog\n  - File: internal/rtx/testdata/patterns/ip_filter.yaml\n  - Document ip filter, ip filter set, ip filter dynamic commands\n  - Include parameter types, ranges, defaults\n  - Add examples from RTX documentation\n  - Purpose: Document all IP filter command patterns\n  - _Leverage: internal/rtx/testdata/patterns/schema.yaml, internal/rtx/parsers/ip_filter.go_\n  - _Requirements: REQ-1_\n  - _Prompt: Role: Documentation Engineer | Task: Create ip_filter.yaml pattern catalog following schema.yaml format, documenting all IP filter commands from REQ-1 | Restrictions: Follow existing catalog format exactly | Success: Catalog validates against schema, all commands documented_\n\n- [ ] 2. Create ethernet_filter.yaml pattern catalog\n  - File: internal/rtx/testdata/patterns/ethernet_filter.yaml\n  - Document ethernet filter commands with MAC patterns\n  - Include VLAN and EtherType filtering\n  - Add examples for MAC address formats\n  - Purpose: Document all Ethernet filter command patterns\n  - _Leverage: internal/rtx/testdata/patterns/schema.yaml, internal/rtx/parsers/ethernet_filter.go_\n  - _Requirements: REQ-2_\n  - _Prompt: Role: Documentation Engineer | Task: Create ethernet_filter.yaml pattern catalog for all MAC filter commands from REQ-2 | Success: All Ethernet filter commands documented_\n\n- [ ] 3. Create bridge.yaml pattern catalog\n  - File: internal/rtx/testdata/patterns/bridge.yaml\n  - Document bridge member, bridge group, ip bridge commands\n  - Include interface type constraints\n  - Add examples for L2VPN configurations\n  - Purpose: Document all bridge command patterns\n  - _Leverage: internal/rtx/testdata/patterns/schema.yaml, internal/rtx/parsers/bridge.go_\n  - _Requirements: REQ-3_\n  - _Prompt: Role: Documentation Engineer | Task: Create bridge.yaml pattern catalog for all bridge commands from REQ-3 | Success: All bridge commands documented_\n\n- [ ] 4. Create service.yaml pattern catalog\n  - File: internal/rtx/testdata/patterns/service.yaml\n  - Document httpd, sshd, sftpd commands\n  - Include host access patterns\n  - Add examples for service configurations\n  - Purpose: Document all service command patterns\n  - _Leverage: internal/rtx/testdata/patterns/schema.yaml, internal/rtx/parsers/service.go_\n  - _Requirements: REQ-4_\n  - _Prompt: Role: Documentation Engineer | Task: Create service.yaml pattern catalog for HTTPD/SSHD/SFTPD commands from REQ-4 | Success: All service commands documented_\n\n## Phase 2: System Pattern Catalogs\n\n- [ ] 5. Create system.yaml pattern catalog\n  - File: internal/rtx/testdata/patterns/system.yaml\n  - Document timezone, console, statistics, packet-buffer commands\n  - Include UTC offset formats and encoding options\n  - Add examples for system configurations\n  - Purpose: Document all system command patterns\n  - _Leverage: internal/rtx/testdata/patterns/schema.yaml, internal/rtx/parsers/system.go_\n  - _Requirements: REQ-5_\n  - _Prompt: Role: Documentation Engineer | Task: Create system.yaml pattern catalog for all system commands from REQ-5 | Success: All system commands documented_\n\n- [ ] 6. Create ipv6_interface.yaml pattern catalog\n  - File: internal/rtx/testdata/patterns/ipv6_interface.yaml\n  - Document ipv6 address, rtadv, dhcp service, mtu, filter commands\n  - Include IPv6 address formats (full, compressed, link-local)\n  - Add examples for IPv6 interface configurations\n  - Purpose: Document all IPv6 interface command patterns\n  - _Leverage: internal/rtx/testdata/patterns/schema.yaml, internal/rtx/parsers/ipv6_interface.go_\n  - _Requirements: REQ-6_\n  - _Prompt: Role: Documentation Engineer | Task: Create ipv6_interface.yaml pattern catalog for all IPv6 interface commands from REQ-6 | Success: All IPv6 interface commands documented_\n\n- [ ] 7. Create ipv6_prefix.yaml pattern catalog\n  - File: internal/rtx/testdata/patterns/ipv6_prefix.yaml\n  - Document ipv6 prefix, ra-prefix, dhcp-prefix commands\n  - Include prefix type variations\n  - Add examples for prefix configurations\n  - Purpose: Document all IPv6 prefix command patterns\n  - _Leverage: internal/rtx/testdata/patterns/schema.yaml, internal/rtx/parsers/ipv6_prefix.go_\n  - _Requirements: REQ-7_\n  - _Prompt: Role: Documentation Engineer | Task: Create ipv6_prefix.yaml pattern catalog for all IPv6 prefix commands from REQ-7 | Success: All IPv6 prefix commands documented_\n\n## Phase 3: IPsec Transport Tests\n\n- [ ] 8. Create ipsec_transport_test.go test file\n  - File: internal/rtx/parsers/ipsec_transport_test.go\n  - Add TestParseIPsecTransportConfig for transport mode parsing\n  - Follow patterns from ipsec_tunnel_test.go\n  - Purpose: Add test coverage for IPsec transport parser\n  - _Leverage: internal/rtx/parsers/ipsec_tunnel_test.go, internal/rtx/parsers/ipsec_transport.go_\n  - _Requirements: REQ-8_\n  - _Prompt: Role: Go Test Developer | Task: Create ipsec_transport_test.go with tests for transport mode configurations from REQ-8 | Restrictions: Follow existing ipsec_tunnel_test.go patterns | Success: All transport mode configs tested_\n\n- [ ] 9. Add IPsec transport SA configuration tests\n  - File: internal/rtx/parsers/ipsec_transport_test.go\n  - Add TestParseIPsecTransportSA for SA parsing\n  - Test key lifetime, peer address configurations\n  - Purpose: Complete IPsec transport test coverage\n  - _Leverage: internal/rtx/parsers/ipsec_transport.go_\n  - _Requirements: REQ-8_\n  - _Prompt: Role: Go Test Developer | Task: Add SA configuration tests to ipsec_transport_test.go from REQ-8 | Success: All SA configs tested_\n\n- [ ] 10. Add IPsec transport command builder tests\n  - File: internal/rtx/parsers/ipsec_transport_test.go\n  - Add TestBuildIPsecTransportCommands for command generation\n  - Test round-trip (parse → build → parse)\n  - Purpose: Ensure command builder works correctly\n  - _Leverage: internal/rtx/parsers/ipsec_transport.go_\n  - _Requirements: REQ-8_\n  - _Prompt: Role: Go Test Developer | Task: Add command builder tests to ipsec_transport_test.go from REQ-8 | Success: All commands build correctly_\n\n## Phase 4: Validation\n\n- [ ] 11. Validate all catalogs against schema\n  - File: (all new YAML files)\n  - Run schema validation on all new catalogs\n  - Fix any schema compliance issues\n  - Purpose: Ensure all catalogs are valid\n  - _Leverage: internal/rtx/testdata/patterns/schema.yaml_\n  - _Requirements: All_\n  - _Prompt: Role: QA Engineer | Task: Validate all new pattern catalogs against schema.yaml | Success: All catalogs pass validation_\n\n- [ ] 12. Run tests and verify coverage\n  - File: internal/rtx/parsers/ipsec_transport_test.go\n  - Run go test with coverage\n  - Verify ipsec_transport.go has adequate coverage\n  - Purpose: Ensure test quality\n  - _Leverage: go test -cover_\n  - _Requirements: REQ-8_\n  - _Prompt: Role: QA Engineer | Task: Run tests and verify coverage for ipsec_transport.go | Success: Tests pass, coverage adequate_\n",
  "fileStats": {
    "size": 6953,
    "lines": 125,
    "lastModified": "2026-01-20T13:33:29.767Z"
  },
  "comments": []
}