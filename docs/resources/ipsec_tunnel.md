---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rtx_ipsec_tunnel Resource - terraform-provider-rtx"
subcategory: ""
description: |-
  Manages IPsec VPN tunnel configuration on RTX routers. Supports IKEv2 with pre-shared key authentication.
---

# rtx_ipsec_tunnel (Resource)

Manages IPsec VPN tunnel configuration on RTX routers. Supports IKEv2 with pre-shared key authentication.

## Example Usage

```terraform
# Basic site-to-site IPsec VPN tunnel
resource "rtx_ipsec_tunnel" "site_to_site" {
  tunnel_id      = 1
  name           = "Office-to-Datacenter"
  local_address  = "203.0.113.1"
  remote_address = "198.51.100.1"
  pre_shared_key = var.psk

  ikev2_proposal {
    encryption_aes256 = true
    integrity_sha256  = true
    group_fourteen    = true
    lifetime_seconds  = 86400
  }

  ipsec_transform {
    protocol           = "esp"
    encryption_aes256  = true
    integrity_sha256   = true
    pfs_group_fourteen = true
    lifetime_seconds   = 3600
  }
}

# IPsec tunnel with Dead Peer Detection
resource "rtx_ipsec_tunnel" "with_dpd" {
  tunnel_id      = 2
  name           = "Branch-Office"
  local_address  = "203.0.113.1"
  remote_address = "198.51.100.2"
  pre_shared_key = var.psk

  ikev2_proposal {
    encryption_aes256 = true
    integrity_sha256  = true
    group_fourteen    = true
    lifetime_seconds  = 86400
  }

  ipsec_transform {
    protocol           = "esp"
    encryption_aes256  = true
    integrity_sha256   = true
    pfs_group_fourteen = true
    lifetime_seconds   = 7200
  }

  dpd_enabled  = true
  dpd_interval = 30
  dpd_retry    = 5
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `tunnel_id` (Number) Tunnel ID (tunnel select N, 1-6000).

### Optional

- `dpd_enabled` (Boolean) Enable Dead Peer Detection.
- `dpd_interval` (Number) DPD interval in seconds.
- `dpd_retry` (Number) DPD retry count before declaring peer dead (0 means disabled).
- `enabled` (Boolean) Enable the IPsec tunnel.
- `ikev2_proposal` (Block, Optional) IKE Phase 1 proposal settings. (see [below for nested schema](#nestedblock--ikev2_proposal))
- `ipsec_transform` (Block, Optional) IPsec Phase 2 transform settings. (see [below for nested schema](#nestedblock--ipsec_transform))
- `ipsec_tunnel_id` (Number) IPsec tunnel ID (ipsec tunnel N). If not specified, defaults to tunnel_id.
- `keepalive_mode` (String) Keepalive mode: 'dpd' (Dead Peer Detection) or 'heartbeat'. Defaults to 'dpd' if dpd_enabled is true.
- `local_address` (String) Local endpoint IP address.
- `local_network` (String) Local network in CIDR notation (e.g., '192.168.1.0/24').
- `name` (String) Tunnel description/name.
- `pre_shared_key` (String, Sensitive) Pre-shared key for IKE authentication.
- `remote_address` (String) Remote endpoint IP address or hostname (for dynamic DNS).
- `remote_network` (String) Remote network in CIDR notation (e.g., '10.0.0.0/24').
- `secure_filter_in` (List of Number) IP filter IDs for incoming traffic on this tunnel (ip tunnel secure filter in).
- `secure_filter_out` (List of Number) IP filter IDs for outgoing traffic on this tunnel (ip tunnel secure filter out).
- `tcp_mss_limit` (String) TCP MSS limit for this tunnel: 'auto' or a numeric value (ip tunnel tcp mss limit).

### Read-Only

- `tunnel_interface` (String) The tunnel interface name (e.g., 'tunnel1'). Computed from tunnel_id.

<a id="nestedblock--ikev2_proposal"></a>
### Nested Schema for `ikev2_proposal`

Optional:

- `encryption_3des` (Boolean) Use 3DES encryption.
- `encryption_aes128` (Boolean) Use AES-128 encryption.
- `encryption_aes256` (Boolean) Use AES-256 encryption.
- `group_five` (Boolean) Use DH group 5 (1536-bit).
- `group_fourteen` (Boolean) Use DH group 14 (2048-bit).
- `group_two` (Boolean) Use DH group 2 (1024-bit).
- `integrity_md5` (Boolean) Use MD5 integrity.
- `integrity_sha1` (Boolean) Use SHA-1 integrity.
- `integrity_sha256` (Boolean) Use SHA-256 integrity.
- `lifetime_seconds` (Number) IKE SA lifetime in seconds.


<a id="nestedblock--ipsec_transform"></a>
### Nested Schema for `ipsec_transform`

Optional:

- `encryption_3des` (Boolean) Use 3DES encryption.
- `encryption_aes128` (Boolean) Use AES-128 encryption.
- `encryption_aes256` (Boolean) Use AES-256 encryption.
- `integrity_md5` (Boolean) Use MD5-HMAC integrity.
- `integrity_sha1` (Boolean) Use SHA-1-HMAC integrity.
- `integrity_sha256` (Boolean) Use SHA-256-HMAC integrity.
- `lifetime_seconds` (Number) IPsec SA lifetime in seconds.
- `pfs_group_five` (Boolean) Use PFS with DH group 5.
- `pfs_group_fourteen` (Boolean) Use PFS with DH group 14.
- `pfs_group_two` (Boolean) Use PFS with DH group 2.
- `protocol` (String) IPsec protocol: 'esp' or 'ah'.
