---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "rtx_tunnel Resource - terraform-provider-rtx"
subcategory: ""
description: |-
  Manages unified tunnel configuration on RTX routers. Supports IPsec, L2TPv3, and L2TPv2 tunnels.
---

# rtx_tunnel (Resource)

Manages unified tunnel configuration on RTX routers. Supports IPsec, L2TPv3, and L2TPv2 tunnels.

## Example Usage

```terraform
# Site-to-site IPsec VPN tunnel
resource "rtx_tunnel" "site_to_site_vpn" {
  tunnel_id     = 1
  encapsulation = "ipsec"
  enabled       = true

  ipsec {
    local_address  = "192.168.1.1"
    remote_address = "203.0.113.100"
    pre_shared_key = var.ipsec_psk

    ipsec_transform {
      protocol          = "esp"
      encryption_aes256 = true
      integrity_sha256  = true
    }

    keepalive {
      enabled  = true
      mode     = "dpd"
      interval = 30
      retry    = 3
    }
  }
}

# L2TPv3 over IPsec tunnel (L2VPN)
resource "rtx_tunnel" "l2vpn" {
  tunnel_id     = 2
  encapsulation = "l2tpv3"
  enabled       = true

  ipsec {
    ipsec_tunnel_id = 101
    local_address   = "192.168.1.253"
    remote_address  = "branch.example.com"
    pre_shared_key  = var.ipsec_psk
    nat_traversal   = true

    ipsec_transform {
      protocol          = "esp"
      encryption_aes128 = true
      integrity_sha1    = true
    }
  }

  l2tp {
    hostname         = "main-router"
    local_router_id  = "192.168.1.253"
    remote_router_id = "192.168.2.254"
    remote_end_id    = "branch-router"
    always_on        = true

    tunnel_auth {
      enabled  = true
      password = var.l2tp_password
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `encapsulation` (String) Tunnel encapsulation type: 'ipsec' (site-to-site VPN), 'l2tpv3' (L2VPN), or 'l2tp' (L2TPv2 remote access).
- `tunnel_id` (Number) Tunnel ID (tunnel select N, 1-6000).

### Optional

- `enabled` (Boolean) Enable the tunnel.
- `endpoint_name` (String) Tunnel endpoint name for DNS resolution.
- `endpoint_name_type` (String) Endpoint name type: 'fqdn'.
- `ipsec` (Block, Optional) IPsec configuration for the tunnel. (see [below for nested schema](#nestedblock--ipsec))
- `l2tp` (Block, Optional) L2TP configuration for the tunnel. (see [below for nested schema](#nestedblock--l2tp))

### Read-Only

- `name` (String) Tunnel description/name. Read-only - RTX does not support setting description within tunnel context. Use rtx_interface to set the tunnel interface description if needed.
- `tunnel_interface` (String) The tunnel interface name (e.g., 'tunnel1'). Computed from tunnel_id.

<a id="nestedblock--ipsec"></a>
### Nested Schema for `ipsec`

Required:

- `pre_shared_key` (String, Sensitive) IKE pre-shared key.

Optional:

- `ike_keepalive_log` (Boolean) Enable IKE keepalive logging.
- `ike_log` (String) IKE log options (e.g., 'key-info message-info payload-info').
- `ike_remote_name` (String) IKE remote name value.
- `ike_remote_name_type` (String) IKE remote name type: 'ipv4-addr', 'fqdn', 'user-fqdn', 'ipv6-addr', 'key-id', 'l2tpv3'.
- `ipsec_transform` (Block, Optional) IPsec Phase 2 transform settings. (see [below for nested schema](#nestedblock--ipsec--ipsec_transform))
- `ipsec_tunnel_id` (Number) IPsec tunnel ID (ipsec tunnel N). Defaults to tunnel_id if not specified.
- `keepalive` (Block, Optional) IPsec keepalive/DPD settings. (see [below for nested schema](#nestedblock--ipsec--keepalive))
- `local_address` (String) Local IKE endpoint address.
- `nat_traversal` (Boolean) Enable NAT traversal.
- `remote_address` (String) Remote IKE endpoint address or FQDN.
- `secure_filter_in` (List of Number) Inbound security filter IDs.
- `secure_filter_out` (List of Number) Outbound security filter IDs.
- `tcp_mss_limit` (String) TCP MSS limit: 'auto' or numeric value.

<a id="nestedblock--ipsec--ipsec_transform"></a>
### Nested Schema for `ipsec.ipsec_transform`

Optional:

- `encryption_3des` (Boolean) Use 3DES encryption.
- `encryption_aes128` (Boolean) Use AES-128 encryption.
- `encryption_aes256` (Boolean) Use AES-256 encryption.
- `integrity_md5` (Boolean) Use MD5-HMAC integrity.
- `integrity_sha1` (Boolean) Use SHA-1-HMAC integrity.
- `integrity_sha256` (Boolean) Use SHA-256-HMAC integrity.
- `protocol` (String) Protocol: 'esp' or 'ah'.


<a id="nestedblock--ipsec--keepalive"></a>
### Nested Schema for `ipsec.keepalive`

Optional:

- `enabled` (Boolean) Enable keepalive.
- `interval` (Number) Keepalive interval in seconds.
- `mode` (String) Keepalive mode: 'dpd' or 'heartbeat'.
- `retry` (Number) Retry count.



<a id="nestedblock--l2tp"></a>
### Nested Schema for `l2tp`

Optional:

- `always_on` (Boolean) Keep connection always active.
- `disconnect_time` (Number) Disconnect time in seconds (0 = off).
- `hostname` (String) L2TP hostname for negotiation.
- `keepalive` (Block, Optional) L2TP keepalive settings. (see [below for nested schema](#nestedblock--l2tp--keepalive))
- `keepalive_log` (Boolean) Enable L2TP keepalive logging.
- `local_router_id` (String) Local router ID (L2TPv3).
- `remote_end_id` (String) Remote end ID (L2TPv3).
- `remote_router_id` (String) Remote router ID (L2TPv3).
- `syslog` (Boolean) Enable L2TP syslog.
- `tunnel_auth` (Block, Optional) L2TP tunnel authentication. (see [below for nested schema](#nestedblock--l2tp--tunnel_auth))

<a id="nestedblock--l2tp--keepalive"></a>
### Nested Schema for `l2tp.keepalive`

Optional:

- `enabled` (Boolean) Enable keepalive.
- `interval` (Number) Keepalive interval in seconds.
- `retry` (Number) Retry count.


<a id="nestedblock--l2tp--tunnel_auth"></a>
### Nested Schema for `l2tp.tunnel_auth`

Optional:

- `enabled` (Boolean) Enable tunnel authentication.
- `password` (String, Sensitive) Tunnel authentication password.
