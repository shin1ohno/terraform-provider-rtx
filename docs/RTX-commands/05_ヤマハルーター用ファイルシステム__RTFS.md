# 第5章: ヤマハルーター用ファイルシステム  RTFS

> 元PDFページ: 121-121

---

第 5 章
ヤマハルーター用ファイルシステム  RTFS
RTFSは、ルーターの内部ストレージ  ( 内蔵フラッシュ  ROM 等 ) に構築されるファイルシステムです。一般的な PC
のファイルシステムと同様、内部ストレージに任意のデータを保存しファイル名を付けて管理することができます。
またディレクトリ構造も実現されています。内部ストレージにはファームウェア  (exec) や設定ファイル  (config) な
ど様々なデータが保存されていますが、それらとは独立した特定の領域を RTFSとして使用します。
ファイルやディレクトリを指定するコマンドでは、プレフィックスなしの  "/" から始まるパスを入力すると RTFS領
域を参照することができます。
Luaスクリプト機能のスクリプトファイルやカスタム GUIのHTMLファイルなど、読み出し専用データを保存する
用途として RTFSを使用してください。ログファイルの記録など、 RTFS領域への定期的な書き込みはフラッシュ
ROMの消耗を早めます。頻繁に書き込みを行ったことが原因でフラッシュ ROMの故障に至った場合は、  保証期間
内であっても無償修理の保証対象外になります。
5.1 RTFS のフォーマット
[書式 ]
rtfs format
[説明 ]
内部ストレージ  ( 内蔵フラッシュ  ROM 等 ) の RTFS 領域をフォーマットし、すべてのデータを削除する。
工場出荷状態に戻した場合にもフォーマットが行われる。
[ノート ]
フォーマットを実行するとデータは完全に削除され、復元することができない。
[適用モデル ]
RTX5000, RTX3510, RTX3500, RTX1300, RTX1220, RTX1210, RTX840, RTX830
5.2 RTFS のガベージコレクト
[書式 ]
rtfs garbage-collect
[説明 ]
内部ストレージ  ( 内蔵フラッシュ  ROM 等 ) の RTFS 領域にある不要なデータを削除し、空き容量を増やす。
ガベージコレクトは通常必要なときに自動で実行されるが、処理に数十秒かかるため、事前に行っておきたい場合
にこのコマンドを実行する。
[ノート ]
ガベージコレクトによってファイルが削除されたり上書きされたりすることはない。
[適用モデル ]
RTX5000, RTX3510, RTX3500, RTX1300, RTX1220, RTX1210, RTX840, RTX830コマンドリファレンス  | ヤマハルーター用ファイルシステム  RTFS | 121

